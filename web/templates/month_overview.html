{{/* Partial rendered by /ui/month-overview. Expects .Year, .Month, .Total, .Rows */}}
<section id="month-overview"
         class="month-overview"
         hx-get="/ui/month-overview"
         hx-trigger="load, expense:created from:body"
         hx-swap="outerHTML">
  <h2>Panoramica mese</h2>
  <div class="overview-body">
    <div class="total">Totale mese: <strong>{{ .Total }}</strong></div>
    {{ if .MaxName }}
    <div class="legend">Scala rispetto a: <em>{{ .MaxName }}</em> ({{ .Max }})</div>
    {{ end }}
    <div class="categories">
      {{ if .Rows }}
        {{ range .Rows }}
        <div class="row">
          <div class="name">{{ .Name }}</div>
          <div class="amount">{{ .Amount }}</div>
          <div class="bar" aria-hidden="true">
            <div class="bar__fill" style="width: {{ .Width }}%"></div>
          </div>
        </div>
        {{ end }}
      {{ else }}
        <div class="row placeholder">Nessun dato</div>
      {{ end }}
    </div>
    <div class="expenses">
      <h3>Dettaglio spese</h3>
      {{ if .Items }}
        <div class="expenses__list">
          {{ range .Items }}
            <div class="expense">
              <div class="expense__date">{{ .Day }}/{{ $.Month }}</div>
              <div class="expense__desc">{{ .Desc }}</div>
              <div class="expense__cat">{{ .Cat }} / {{ .Sub }}</div>
              <div class="expense__amt">{{ .Amt }}</div>
            </div>
          {{ end }}
        </div>
      {{ else }}
        <div class="row placeholder">Nessuna spesa registrata</div>
      {{ end }}
    </div>
  </div>
</section>
