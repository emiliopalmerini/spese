{{ define "recurrent-list" }}
<div id="recurrent-list" class="recurrent-expenses">
  {{ if .RecurrentExpenses }}
    <h2 class="section-title">Le tue spese ricorrenti</h2>
    
    <div class="recurrent-list">
      {{ range .RecurrentExpenses }}
      <div class="recurrent-item" id="recurrent-{{ .ID }}">
        <span class="recurrent-frequency">
          {{ if eq .Every "daily" }}Giornaliera{{ end }}
          {{ if eq .Every "weekly" }}Settimanale{{ end }}
          {{ if eq .Every "monthly" }}Mensile{{ end }}
          {{ if eq .Every "yearly" }}Annuale{{ end }}
        </span>
        
        <div class="recurrent-description">{{ .Description }}</div>
        
        <div class="recurrent-categories">
          <span class="category-primary">{{ .Primary }}</span>
          <span class="category-separator">/</span>
          <span class="category-secondary">{{ .Secondary }}</span>
        </div>
        
        <div class="recurrent-dates">
          Dal {{ formatDate .StartDate.Day .StartDate.Month .StartDate.Year }}
          {{ if not .EndDate.IsZero }}
            al {{ formatDate .EndDate.Day .EndDate.Month .EndDate.Year }}
          {{ else }}
            (senza fine)
          {{ end }}
        </div>
        
        <div class="recurrent-amount">{{ printf "â‚¬%.2f" (divFloat .Amount.Cents 100) }}</div>
        
        {{ template "action_buttons" (dict "ShowEdit" true "ShowDelete" true "EditURL" (printf "/recurrent/%d/edit" .ID) "EditTarget" (printf "#recurrent-%d" .ID) "DeleteURL" (printf "/recurrent/delete?id=%d" .ID) "DeleteTarget" (printf "#recurrent-%d" .ID) "DeleteConfirm" "Sei sicuro di voler eliminare questa spesa ricorrente?") }}
      </div>
      {{ end }}
    </div>
  {{ else }}
    <div class="empty-state">
      <p class="empty-message">Nessuna spesa ricorrente configurata.</p>
      <p class="empty-hint">Usa il modulo sopra per aggiungere la prima spesa ricorrente.</p>
    </div>
  {{ end }}
</div>
{{ end }}