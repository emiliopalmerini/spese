{{/*
  Income month overview partial template
  Expects: .Year, .Month, .Total, .MaxName, .Max, .Rows, .Items
*/}}
{{ define "income_month_overview.html" }}
<section id="income-month-overview" class="month-overview">
  <div class="total" id="income-month-total">Totale mensile: <strong>{{ .Total }}</strong></div>

  <div class="categories" id="income-month-categories">
    {{ if .MaxName }}
    <div class="legend">Scala relativa a: <em>{{ .MaxName }}</em> ({{ .Max }})</div>
    {{ end }}

    {{ if .Rows }}
      {{ range .Rows }}
      <div class="row">
        <div class="name">{{ .Name }}</div>
        <div class="amount">{{ .Amount }}</div>
        <div class="bar" aria-hidden="true">
          <div class="bar__fill" style="width: {{ .Width }}%"></div>
        </div>
      </div>
      {{ end }}
    {{ else }}
      <div class="row placeholder">Nessun dato</div>
    {{ end }}
  </div>

  <div class="expenses" id="income-month-incomes">
    <h3>Dettaglio Entrate</h3>
    {{ if .Items }}
      <div class="expenses__list">
        {{ range .Items }}
          <div class="expense" id="income-{{ .ID }}">
            <div class="expense__date">{{ .Day }}/{{ $.Month }}</div>
            <div class="expense__desc">{{ .Desc }}</div>
            <div class="expense__cat">{{ .Cat }}</div>
            <div class="expense__amt">{{ .Amt }}</div>
            {{ template "action_buttons" (dict "ShowDelete" true "DeleteURL" "/incomes/delete" "DeleteVals" (printf "{\"id\": \"%s\"}" .ID) "DeleteTarget" (printf "#income-%s" .ID) "DeleteConfirm" "Sei sicuro di voler cancellare questa entrata?") }}
          </div>
        {{ end }}
      </div>
    {{ else }}
      <div class="row placeholder">Nessuna entrata registrata</div>
    {{ end }}
  </div>
</section>
{{ end }}

{{/* Income month total partial */}}
{{ define "income_month_total" }}
<div class="total" id="income-month-total">Totale mensile: <strong>{{ .Total }}</strong></div>
{{ end }}

{{/* Income month categories partial */}}
{{ define "income_month_categories" }}
<div class="categories" id="income-month-categories">
  {{ if .MaxName }}
  <div class="legend">Scala relativa a: <em>{{ .MaxName }}</em> ({{ .Max }})</div>
  {{ end }}

  {{ if .Rows }}
    {{ range .Rows }}
    <div class="row">
      <div class="name">{{ .Name }}</div>
      <div class="amount">{{ .Amount }}</div>
      <div class="bar" aria-hidden="true">
        <div class="bar__fill" style="width: {{ .Width }}%"></div>
      </div>
    </div>
    {{ end }}
  {{ else }}
    <div class="row placeholder">Nessun dato</div>
  {{ end }}
</div>
{{ end }}

{{/* Income month incomes list partial */}}
{{ define "income_month_incomes" }}
<div class="expenses" id="income-month-incomes">
  <h3>Dettaglio Entrate</h3>
  {{ if .Items }}
    <div class="expenses__list">
      {{ range .Items }}
        <div class="expense" id="income-{{ .ID }}">
          <div class="expense__date">{{ .Day }}/{{ $.Month }}</div>
          <div class="expense__desc">{{ .Desc }}</div>
          <div class="expense__cat">{{ .Cat }}</div>
          <div class="expense__amt">{{ .Amt }}</div>
          {{ template "action_buttons" (dict "ShowDelete" true "DeleteURL" "/incomes/delete" "DeleteVals" (printf "{\"id\": \"%s\"}" .ID) "DeleteTarget" (printf "#income-%s" .ID) "DeleteConfirm" "Sei sicuro di voler cancellare questa entrata?") }}
        </div>
      {{ end }}
    </div>
  {{ else }}
    <div class="row placeholder">Nessuna entrata registrata</div>
  {{ end }}
</div>
{{ end }}
