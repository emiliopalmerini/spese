{{ define "content" }}
  <section class="page__section">
    <form id="expense-form"
          class="form"
          hx-post="/expenses"
          hx-target="#flash"
          hx-swap="innerHTML"
          hx-indicator=".indicator">

      <div class="field">
        <label for="day">Giorno</label>
        <input id="day" type="number" name="day" min="1" max="31" value="{{ .Day }}" required />
      </div>

      <div class="field">
        <label for="month">Mese</label>
        <input id="month" type="number" name="month" min="1" max="12" value="{{ .Month }}" required />
      </div>

      <div class="field">
        <label for="description">Descrizione</label>
        <input id="description" type="text" name="description" maxlength="200" placeholder="es. Supermercato" required />
      </div>

      <div class="field">
        <label for="amount">Importo (€)</label>
        <input id="amount" type="number" name="amount" step="0.01" min="0.01" placeholder="0.00" required />
      </div>

      <div class="field">
        <label for="category">Categoria</label>
        <select id="category" name="category" required>
          {{ range .Categories }}<option>{{ . }}</option>{{ end }}
        </select>
      </div>

      <div class="field">
        <label for="subcategory">Sottocategoria</label>
        <select id="subcategory" name="subcategory" required>
          {{ range .Subcats }}<option>{{ . }}</option>{{ end }}
        </select>
      </div>

      <div id="flash" class="flash" aria-live="polite"></div>

      <div class="actions">
        <button class="btn btn-primary" type="submit">Aggiungi</button>
        <div class="indicator htmx-indicator" aria-hidden="true">
          <span class="spinner"></span>
          <span>Salvataggio…</span>
        </div>
      </div>
    </form>
  </section>
{{ end }}

{{ template "base.html" . }}
